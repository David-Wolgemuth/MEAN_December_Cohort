<!DOCTYPE html>
<html ng-app = 'app'>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src = 'bower_components/angular/angular.js'></script>
    <script type="text/javascript">
      var app = angular.module('app', []);
      app.controller('myController', ['$scope', function($scope){
        $scope.users = [];
        var index = 1;
        console.log($scope.users);
        $scope.addUser = function(){
          $scope.newUser.id = index;
          index ++;
          $scope.users.push($scope.newUser);
          $scope.newUser = {};
          }
        $scope.deleteUser = function(ind){
          for(var i = 0; i < $scope.users.length; i++){
            if($scope.users[i].id == ind){
            $scope.users.splice(i, 1);
            }
          }
        }
      }])
    </script>
  </head>
  <body>
    <div ng-controller = 'myController'>
      <form>
        <p>First Name: <input type="text" ng-model='newUser.first_name'></p>
        <p>Last Name: <input type="text" ng-model='newUser.last_name'></p>
        <p>Favorite Language: <input type="text" ng-model='newUser.fav_language'></p>
        <input type="submit" value="Create User" ng-click='addUser()'>
      </form>
      <div class="">
        <table>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Fav Language</th>
            <th>Actions</th>
          </tr>
          <tr ng-repeat = 'user in users'>
            <td>{{ user.first_name }}</td>
            <td>{{ user.last_name }}</td>
            <td>{{ user.fav_language }}</td>
            <td><input type="submit" ng-click='deleteUser(user.id)' value="Delete User"></td>
          </tr>
        </table>
      </div>
    </div>
  </body>
</html>
